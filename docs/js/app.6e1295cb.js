(function(t){function o(o){for(var n,i,a=o[0],u=o[1],s=o[2],l=0,f=[];l<a.length;l++)i=a[l],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&f.push(c[i][0]),c[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);b&&b(o);while(f.length)f.shift()();return r.push.apply(r,s||[]),e()}function e(){for(var t,o=0;o<r.length;o++){for(var e=r[o],n=!0,a=1;a<e.length;a++){var u=e[a];0!==c[u]&&(n=!1)}n&&(r.splice(o--,1),t=i(i.s=e[0]))}return t}var n={},c={app:0},r=[];function i(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=n,i.d=function(t,o,e){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,o){if(1&o&&(t=i(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)i.d(e,n,function(o){return t[o]}.bind(null,n));return e},i.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p="/bookshell/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=o,a=a.slice();for(var s=0;s<a.length;s++)o(a[s]);var b=u;r.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"0400":function(t,o,e){"use strict";e("1517")},1517:function(t,o,e){},"1a62":function(t,o,e){},4990:function(t,o,e){t.exports=e.p+"img/success.36118c3e.jpg"},"4b7f":function(t,o,e){t.exports=e.p+"img/fail.9841b5db.png"},"56d7":function(t,o,e){"use strict";e.r(o);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("7a23"),c={class:"nav"},r=Object(n["e"])("Welcome To Bookshelf");function i(t,o,e,i,a,u){var s=Object(n["v"])("router-link"),b=Object(n["v"])("router-view");return Object(n["o"])(),Object(n["d"])(n["a"],null,[Object(n["f"])("div",c,[Object(n["f"])(s,{to:"/books"},{default:Object(n["B"])((function(){return[r]})),_:1})]),Object(n["f"])(b)],64)}var a={name:"App"};e("761f");a.render=i;var u=a,s=e("6c02"),b=(e("b0c0"),Object(n["D"])("data-v-397b3b68"));Object(n["r"])("data-v-397b3b68");var l={class:"bookListBorder"},f={class:"bookList"},d={class:"bookImg"},k={class:"bookDes"};Object(n["p"])();var p=b((function(t,o,e,c,r,i){var a=Object(n["v"])("router-link"),u=Object(n["v"])("router-view");return Object(n["o"])(),Object(n["d"])(n["a"],null,[Object(n["f"])("div",l,[Object(n["f"])("div",f,[(Object(n["o"])(!0),Object(n["d"])(n["a"],null,Object(n["u"])(r.bookList,(function(t){return Object(n["o"])(),Object(n["d"])(a,{to:{name:"BookDetail",params:{bookId:t.id}},key:t.id},{default:b((function(){return[Object(n["f"])("div",{class:{activeBook:r.bookId===t.id,book:t},onClick:function(o){return i.scrollToView(t.id)},id:t.id},[Object(n["f"])("div",d,[Object(n["f"])("img",{src:t.image,alt:t.name},null,8,["src","alt"])]),Object(n["f"])("div",k,Object(n["x"])(t.name),1)],10,["onClick","id"])]})),_:2},1032,["to"])})),128))])]),Object(n["f"])(u)],64)})),h=e("bc3a"),v=e.n(h);function O(t){return v.a.get(t)}function j(t,o){return v.a.patch(t,o)}var m="https://fe-interview-api.unnotech.com/books",w="https://fe-interview-api.unnotech.com/profile/",g={data:function(){return{bookList:"",bookId:""}},created:function(){this.getBookId()},watch:{$route:"getBookId"},mounted:function(){var t=this;O(m).then((function(o){return t.bookList=o.data})).catch((function(t){console.log(t)}))},methods:{getBookId:function(){return this.bookId=parseInt(this.$route.params.bookId)},scrollToView:function(t){window.screen.availWidth<768||document.getElementById(t).scrollIntoView({behavior:"smooth",inline:"center"})}}};e("9f41");g.render=p,g.__scopeId="data-v-397b3b68";var C=g,I=Object(n["D"])("data-v-63ef3c90");Object(n["r"])("data-v-63ef3c90");var P={class:"detailBlockAll"},y={class:"detailBlock"},B={class:"detail"},D=Object(n["f"])("span",null,"價格",-1),_={class:"detail"},N=Object(n["f"])("span",null,"數量",-1);Object(n["p"])();var S=I((function(t,o,e,c,r,i){var a=Object(n["v"])("BookModify");return Object(n["o"])(),Object(n["d"])("div",P,[Object(n["f"])("div",y,[Object(n["f"])("div",B,[D,Object(n["f"])("button",{onClick:o[1]||(o[1]=function(t){return i.minusNumber("bookPrice",r.bookPrice)})},"-"),Object(n["C"])(Object(n["f"])("input",{"onUpdate:modelValue":o[2]||(o[2]=function(t){return r.bookPrice=t}),change:i.check_num("bookPrice")},null,8,["change"]),[[n["z"],r.bookPrice]]),Object(n["f"])("button",{onClick:o[3]||(o[3]=function(t){return i.plusNumber("bookPrice",r.bookPrice)})},"+")]),Object(n["f"])("div",_,[N,Object(n["f"])("button",{onClick:o[4]||(o[4]=function(t){return i.minusNumber("bookCount",r.bookCount)})},"-"),Object(n["C"])(Object(n["f"])("input",{"onUpdate:modelValue":o[5]||(o[5]=function(t){return r.bookCount=t}),change:i.check_num("bookCount")},null,8,["change"]),[[n["z"],r.bookCount]]),Object(n["f"])("button",{onClick:o[6]||(o[6]=function(t){return i.plusNumber("bookCount",r.bookCount)})},"+")])]),Object(n["f"])(a,{bookNewPrice:r.bookPrice!==parseInt(r.bookDetail.price,10)?r.bookPrice:null,bookNewCount:r.bookCount!==parseInt(r.bookDetail.count,10)?r.bookCount:null,class:"bookModify"},null,8,["bookNewPrice","bookNewCount"])])})),M=(e("d3b7"),e("25f0"),e("ac1f"),e("5319"),e("4990")),x=e.n(M),A=e("4b7f"),T=e.n(A),$=Object(n["D"])("data-v-e55f5a30");Object(n["r"])("data-v-e55f5a30");var L={class:"patchBtn"},V=Object(n["f"])("img",{class:"successImg",src:x.a},null,-1),z=Object(n["e"])("修改成功"),J=Object(n["f"])("img",{class:"failImg",src:T.a},null,-1),U=Object(n["e"])("修改失敗"),W=Object(n["f"])("img",{class:"failImg",src:T.a},null,-1),E=Object(n["e"])("請修改數值");Object(n["p"])();var q=$((function(t,o,e,c,r,i){return Object(n["o"])(),Object(n["d"])(n["a"],null,[Object(n["f"])("div",L,[Object(n["f"])("button",{onClick:o[1]||(o[1]=function(){return i.patchBookDetail&&i.patchBookDetail.apply(i,arguments)})},"確認修改")]),Object(n["f"])("div",{class:[r.sendStatus?r.activeClass:r.noAlert]},[V,z],2),Object(n["f"])("div",{class:[r.failStatus?r.errorClass:r.noAlert]},[J,U],2),Object(n["f"])("div",{class:[r.noModifyStatus?r.noModifyClass:r.noAlert]},[W,E],2)],64)})),F={props:["bookNewPrice","bookNewCount"],data:function(){return{sendStatus:!1,failStatus:!1,noModifyStatus:!1,activeClass:"successAlert",noAlert:"noAlert",errorClass:"errorAlert",noModifyClass:"noModifyAlert"}},methods:{patchBookDetail:function(){var t=this;if(!this.bookNewPrice&&!this.bookNewCount)return this.noModifyStatus=!0,void window.setTimeout((function(){t.noModifyStatus=!1}),1e3);var o=this.$route.params.bookId,e={id:o};this.bookNewPrice&&(e["price"]=this.bookNewPrice),this.bookNewCount&&(e["count"]=this.bookNewCount),j(w+o,e).then((function(){t.sendStatus=!0,window.setTimeout((function(){t.sendStatus=!1}),1e3)})).catch((function(){var t=this;this.failStatus=!0,window.setTimeout((function(){t.failStatus=!1}),1e3)}))}}};e("0400");F.render=q,F.__scopeId="data-v-e55f5a30";var G=F,H={data:function(){return{bookDetail:"",bookPrice:null,bookCount:null}},components:{BookModify:G},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this,o=this.$route.params.bookId;this.$route.params.bookId===o&&void 0!==this.$route.params.bookId&&O(w+o).then((function(o){t.bookDetail=o.data,t.bookPrice=parseInt(t.bookDetail.price,10),t.bookCount=parseInt(t.bookDetail.count,10)})).catch((function(t){console.log(t)}))},plusNumber:function(t,o){var e=parseInt(o,10);return"bookPrice"===t?this.bookPrice=e+1:this.bookCount=e+1},minusNumber:function(t,o){var e=parseInt(o,10);return e>0?"bookPrice"===t?this.bookPrice=e-1:this.bookCount=e-1:null},check_num:function(t){var o="bookPrice"===t?this.bookPrice:this.bookCount;if(null!==o){var e=o.toString();e=e.replace(/[^\d]/g,""),e.indexOf(".")<1&&""!==e&&(e=parseInt(e)),"bookPrice"===t?this.bookPrice=e:this.bookCount=e}}}};e("e39a");H.render=S,H.__scopeId="data-v-63ef3c90";var K=H,Q=Object(n["D"])("data-v-17d2f8ec");Object(n["r"])("data-v-17d2f8ec");var R={class:"indexTitle"};Object(n["p"])();var X=Q((function(t,o){return Object(n["o"])(),Object(n["d"])("div",R," Click on the title to get all information ! ")}));e("8afb");const Y={};Y.render=X,Y.__scopeId="data-v-17d2f8ec";var Z=Y,tt=[{path:"/bookshell/",name:"BookIndex",component:Z},{path:"/bookshell/books",name:"BookList",component:C,children:[{path:"/bookshell/books/:bookId",name:"BookDetail",component:K}]}],ot=Object(s["a"])({history:Object(s["b"])(),routes:tt}),et=ot;Object(n["c"])(u).use(et).mount("#app")},"761f":function(t,o,e){"use strict";e("1a62")},"8afb":function(t,o,e){"use strict";e("b652")},"9f41":function(t,o,e){"use strict";e("f01b")},b652:function(t,o,e){},e39a:function(t,o,e){"use strict";e("faa1")},f01b:function(t,o,e){},faa1:function(t,o,e){}});
//# sourceMappingURL=app.6e1295cb.js.map